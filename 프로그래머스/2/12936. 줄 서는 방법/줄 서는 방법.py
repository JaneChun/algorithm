# def solution(n, k):
#     answer = []
    
#     def dfs(n, visited, result):
#         if len(result) == n:
#             answer.append(result[:])
#             return
        
#         for i in range(1, n + 1):
#             if not visited[i]:
#                 visited[i] = True
#                 result.append(i)
#                 dfs(n, visited, result)
#                 result.pop()
#                 visited[i] = False
    
#     visited = [False] * (n + 1)
#     dfs(n, visited, [])

#     return sorted(answer)[k - 1]

# ìˆœì—´ì„ ëª¨ë‘ ìƒì„±í•˜ê³  ì •ë ¬í•œ í›„, kë²ˆì§¸ ìˆœì—´ì„ ë°˜í™˜í•˜ë¯€ë¡œ ì‹œê°„ ë³µì¡ë„ëŠ” ğ‘‚(ğ‘›!)
# ìˆœì—´ì„ ëª¨ë‘ ìƒì„±í•˜ì§€ ì•Šê³ , kë²ˆì§¸ ìˆœì—´ë§Œ ì§ì ‘ì ìœ¼ë¡œ ê³„ì‚°

# ê·œì¹™ ì°¾ê¸°
# [1, 2, 3, 4]ì—ì„œ k = 12
# 4! = 4 * 3 * 2 * 1 = 24
# [[1, 2, 3, 4], [1, 2, 4, 3], [1, 3, 2, 4], [1, 3, 4, 2], [1, 4, 2, 3], [1, 4, 3, 2], 
#  [2, 1, 3, 4], [2, 1, 4, 3], [2, 3, 1, 4], [2, 3, 4, 1], [2, 4, 1, 3], [2, 4, 3, 1], 
#  [3, 1, 2, 4], [3, 1, 4, 2], [3, 2, 1, 4], [3, 2, 4, 1], [3, 4, 1, 2], [3, 4, 2, 1], 
#  [4, 1, 2, 3], [4, 1, 3, 2], [4, 2, 1, 3], [4, 2, 3, 1], [4, 3, 1, 2], [4, 3, 2, 1]]
# 4! -> 24 // 4 = 6ë²ˆë§ˆë‹¤ ì•ìë¦¬ê°€ ë°”ë€œ
# 3! -> 6 // 3 = 2ë²ˆë§ˆë‹¤ 2ë²ˆì§¸ ìë¦¬ê°€ ë°”ë€œ
# 2! -> 2 // 2 = 1ë²ˆë§ˆë‹¤ 3ë²ˆì§¸ ìë¦¬ê°€ ë°”ë€œ
# 1! -> 1 // 1 = ë§ˆì§€ë§‰ ìˆ«ì

import math

def solution(n, k):
    answer = []
    
    source = [i + 1 for i in range(n)] # [1, 2, 3, 4]         [1, 3, 4]            [1, 3]
    
    for i in range(n, 0, -1): # 4, 3, 2, 1
        every = math.factorial(i) // i # 4!(24) // 4 = 6      3!(6) // 3 = 2       2!(2) // 2 = 1
        idx = (k - 1) // every         # (12 - 1) // 6 = 1    (8 - 1) // 2 = 3     (2 - 1) // 1 = 1
        answer.append(source.pop(idx)) # [2]                  [2, 4]               [2, 4, 3]
        k -= idx * every               # 12 - (1 * 4) = 8     8 - (3 * 2) = 2      2 - (1 * 1) = 1
        
    return answer